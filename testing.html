<!doctype html>
<html>
<head>
  
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  
  <script src="js/third-party/underscore.js"></script>
  <script src="js/third-party/mustache.js"></script>
  <script src="js/third-party/jquery.min.js"></script>
  
  <script src="js/testRunner.js"></script>
</head>
<body>

  <style>
    table {
      width: 100%;
      table-layout: fixed;
    }
    .transparentWarnings tr.warning {
      display: none;
      font-size: 70%;
      color: #d4d4d4;
      border-color: #dcdcdc;
    }
    .transparentWarnings tr.warning:hover {
      border-color: black;
      color: black;
    }
    td, th {
      border:1px solid black;
      padding:0 0.5em;
      text-align: left;
    }
    .info {
      /*border:none;*/
      padding:0.5em;
    }

    .transparentWarnings tr.warning td.ok {
      background-color: #f0fff6;
    }
    td.ok,
    .transparentWarnings tr.warning:hover td.ok {
      background-color: #d5ffe6;
    }
    .transparentWarnings tr.warning td.warn {
      background-color: #fff5d9;
    }
    td.warn,
    .transparentWarnings tr.warning:hover td.warn {
      background-color: #ffcb31;
    }
    .transparentWarnings tr.warning:not(:hover) .info {
      background-color: #eee !important;
    }

    .expextedForm {
      font-size: 80%;
    }
    .transparentWarnings tr.warning .expextedForm {
      font-size: 100%;
    }
    #loadingBar .status {
      width: 0%;
      background: #77de00;
      height: 4px;
    }
    #statsWords {
      font-size: 48px;
      font-family: Georgia;
      margin-bottom: 0em;
    }
    #stats {
      font-size: 24px;
      font-family: Georgia;
      margin: 0 0 2em 0.18em;
    }
    .resultControls {
      display: none;
    }
  </style>
    
  <textarea id="template" style="display:none;">
    <table id="resultTable" class="transparentWarnings">
      <tr>
        <!--<th class="info" style="width: 2.4em;">№</th>-->
        <th>Есть Кто? Что?</th>
        <th>Нет Кого? Чего?</th>
        <th>Давать Кому? Чему?</th>
        <th>Винить Кого? Что?</th>
        <th>Доволен Кем? Чем?</th>
        <th>Думать О&nbsp;ком? О&nbsp;чем?</th>
        <th class="info" style="width: 5em;">Склонение</th>
        <th class="info" style="width: 5em;">Род</th>
      </tr>
      {{#items}}
        {{#correctWithWarnings}}<tr class="item warning">{{/correctWithWarnings}}
        {{^correctWithWarnings}}<tr class="item">{{/correctWithWarnings}}
          <!--<td>{{rowNumber}}</td>-->
          {{#wordForms}}
            {{#failure}}<td style="background-color:#ff8080;">{{/failure}}
            {{#warning}}<td class="warn">{{/warning}}
            {{#ok}}<td class="ok">{{/ok}}
              {{actual}}
              {{#failureOrWarning}}<div class="expextedForm">Correct: {{expexted}}</div>{{/failureOrWarning}}
            </td>
          {{/wordForms}}
          <td class="info" style="{{#dColor}} background-color:{{dColor}}; {{/dColor}}">
            {{declension}}
          </td>
          <td class="info" style="{{#genderColor}} background-color:{{genderColor}}; {{/genderColor}}">
            {{gender}}
          </td>
        </tr>
      {{/items}}
    </table>
  </textarea>
  <!--<input type="button" onclick="main()" value="Тест"/>-->
  <div id="statsWords">
    Words correct: <span class="content">...</span>
  </div>
  <div id="stats">
    Word forms correct: <span class="content">...</span><br/>
    Correct words with warnings / words total: <span class="correctWordsWithWarnings">...</span>

    <button class="resultControls" onclick="jQuery('#resultTable').removeClass('transparentWarnings'); jQuery('tr.item').hide(); jQuery('tr.warning').css('display', 'table-row');">Show apart</button>
    <button class="resultControls" onclick="jQuery('tr.item').css('display', 'table-row'); jQuery('tr.warning').hide()">Hide</button>
  </div>
  <div id="loadingBar">
    <div class="status"></div>
  </div>
  <div id="result"></div>
  
</body>
</html>