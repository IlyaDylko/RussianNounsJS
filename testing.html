<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

    <script src="js/third-party/jquery-3.5.1.js"></script>
    <script src="js/third-party/angular.min.js"></script>

    <script src="js/third-party/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="js/third-party/bootstrap-3.3.7-dist/css/bootstrap.css"/>

    <script src="js/third-party/ngtable202.js"></script>
    <link rel="stylesheet" href="js/third-party/ngtable202.css"/>

    <script src="js/third-party/underscore.js"></script>
    <script src="js/testRunner.js"></script>
</head>
<body ng-app="testApp">

<style>
    .row {
        margin: 1.5rem 15px;
    }

    /*.transparentWarnings tr.warning {*/
    /*display: none;*/
    /*font-size: 70%;*/
    /*color: #d4d4d4;*/
    /*border-color: #dcdcdc;*/
    /*}*/

    /*.transparentWarnings tr.warning:hover {*/
    /*border-color: black;*/
    /*color: black;*/
    /*}*/

    .info {
        /*border:none;*/
        padding: 0.5em;
    }

    /*.transparentWarnings tr.warning td.ok {*/
    /*background-color: #f0fff6;*/
    /*}*/
    /*td.ok,*/
    /*.transparentWarnings tr.warning:hover td.ok {*/
    /*background-color: #d5ffe6;*/
    /*}*/
    /*.transparentWarnings tr.warning td.warn {*/
    /*background-color: #fff5d9;*/
    /*}*/
    /*td.warn,*/
    /*.transparentWarnings tr.warning:hover td.warn {*/
    /*background-color: #ffcb31;*/
    /*}*/
    /*.transparentWarnings tr.warning:not(:hover) .info {*/
    /*background-color: #eee !important;*/
    /*}*/


    /*.transparentWarnings tr.warning .expextedForm {*/
    /*font-size: 100%;*/
    /*}*/

    body #showWarningsButton {
        display: none !important;
    }

    #loadingBar .status {
        width: 0;
        background: #77de00;
        height: 3px;
    }

    #resultTableHeader {
        table-layout: fixed;
        margin-bottom: 0;
    }

    #resultTable > thead {
        display: none;
    }

    #resultTable > tbody > tr > td {
        padding: 0;
    }

    .resultInnerTable {
        table-layout: fixed;
        background-color: transparent !important;
        margin: 0;
    }

    .resultInnerTable th {
        font-weight: normal;
        text-align: left;
        border: 0 !important;

        height: 6.1em;
    }

    .decl-col {
        width: 4em;
    }

    .gender-col {
        width: 6em;
    }
</style>

<div class="container-fluid" ng-controller="TestRunnerController">
    <div>

        <div ng-if="!items">
            <div id="loadingBar" style="margin-top: 3rem;">
                <div class="status"></div>
            </div>
        </div>

        <div ng-if="items">

            <div class="row">
                <div class="col-12">
                    <table>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    Правильные слова
                                </strong>
                            </td>
                            <td>
                                {{wordsCorrect}} / {{wordsTotal}} ({{wordsCorrectShare | number:2}}%)
                            </td>
                        </tr>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    Правильные формы слов
                                </strong>
                            </td>
                            <td>
                                {{wordFormsCorrect}} / {{wordFormsTotal}} ({{wordFormsCorrectShare | number:2}}%)
                            </td>
                        </tr>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    Правильные слова с предупреждениями
                                </strong>
                            </td>
                            <td>
                                {{wordsHasWarnings}} / {{wordsTotal}} ({{wordsHasWarningsShare | number:2}}%)
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="row">
                <div class="col-12">

                    <table id="resultTableHeader" class="table table-hover">
                        <tr>
                            <th>
                                <span class="text-muted">Есть</span><br/>
                                Кто? Что?
                            </th>
                            <th>
                                <span class="text-muted">Нет</span><br/>
                                Кого? Чего?
                            </th>
                            <th>
                                <span class="text-muted">Доверять</span><br/>
                                Кому? Чему?
                            </th>
                            <th>
                                <span class="text-muted">Видеть</span><br/>
                                Кого? Что?
                            </th>
                            <th>
                                <span class="text-muted">Гордиться</span><br/>
                                Кем? Чем?
                            </th>
                            <th>
                                <span class="text-muted">Думать</span><br/>
                                О&nbsp;ком? О&nbsp;чем?
                            </th>
                            <!--<th>В&nbsp;ком? В&nbsp;чем?</th>-->
                            <th rowspan="2" class="info decl-col">Скл.</th>
                            <th rowspan="2" class="info gender-col">Род</th>
                        </tr>

                        <tr>
                            <th>
                                &ndash;
                            </th>
                            <th>
                                у, около, от, без, из, до, для, вокруг, с, после
                            </th>
                            <th>
                                по, к
                            </th>
                            <th>
                                через, про, на, за, под, о, в, во
                            </th>
                            <th>
                                с, со, перед, над, за, между
                            </th>
                            <th>
                                при, о, об, на, в, во
                            </th>
                            <!--<th>В&nbsp;ком? В&nbsp;чем?</th>-->
                        </tr>
                    </table>

                    <table id="resultTable" class="table table-hover" ng-table="wordTableParams">
                        <tbody>
                        <tr ng-repeat="item in $data">
                            <td>

                                <table class="table resultInnerTable">
                                    <tr ng-class="item.status">

                                        <!--&lt;!&ndash;<td>{{rowNumber}}</td>&ndash;&gt;-->

                                        <th ng-repeat="wordForm in item.wordForms"
                                            ng-class="{'bg-danger': wordForm.failure, 'bg-warning': wordForm.warning}">
                                            {{wordForm.actual}}
                                            <div ng-if="wordForm.failureOrWarning">Правильно: {{wordForm.expected}}</div>
                                        </th>

                                        <th ng-style="{'background-color': declensionColor(item)}" class="decl-col">
                                            <div class="w-75 text-right"
                                                 ng-if="item.declension == -1"
                                                 title="Несклоняемое слово">
                                                {{item.declension}}
                                            </div>
                                            <div class="w-75 text-right"
                                                 ng-if="item.declension != -1">
                                                {{item.declension}}
                                            </div>
                                        </th>

                                        <th ng-style="{'background-color': genderColor(item)}" class="gender-col">
                                            {{item.gender}}
                                        </th>

                                    </tr>
                                </table>

                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>

    </div>
</div>

</body>
</html>